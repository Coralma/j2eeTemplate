angular.module('cccis.angular.common.businessComponents.model-validation').directive('cccisControlName', ['cccisModelValidation', '$timeout', function (cccisModelValidation, $timeout) {
        return {
            restrict: 'A',
            link: function (scope, element, attrs) {
                $(element).on('change', function (e) {
                    if (!cccisModelValidation.isValidationProcessed()) return;

                    $timeout(function(){
                        var controlName = $(element).attr('control-name');
                        var result=cccisModelValidation.validateControl(controlName);
                    });
                });
            }
        }
    }])
